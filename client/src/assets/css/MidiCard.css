/* client/src/assets/css/MidiCard.css */
.midi-card {
  background-color: var(--color-background-medium);
  border-radius: var(--border-radius-lg); /* Slightly larger radius */
  box-shadow: var(--shadow-md);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform var(--transition-medium) cubic-bezier(0.25, 0.8, 0.25, 1),
              box-shadow var(--transition-medium) cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative; /* For potential absolute positioned elements inside */
  border: 1px solid var(--color-border); /* Subtle border */
}

.midi-card:hover {
  transform: translateY(-6px) scale(1.015); /* More pronounced hover effect */
  box-shadow: var(--shadow-xl);
  border-color: var(--color-border-hover);
}

.card-link-wrapper {
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  cursor: pointer; /* Indicate it's clickable */
}

.midi-card-thumbnail-container {
  position: relative;
  width: 100%;
  padding-top: 60%; /* Adjust aspect ratio if needed, e.g., 3:2 or 4:3 */
  background-color: var(--color-background-light); /* Darker placeholder */
  overflow: hidden;
}

.midi-card-thumbnail {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother zoom */
  filter: brightness(0.9) contrast(1.1); /* Slight image enhancement */
}
.midi-card:hover .midi-card-thumbnail {
  transform: scale(1.12);
  filter: brightness(1) contrast(1);
}

.thumbnail-overlay {
  position: absolute;
  inset: 0; /* Replaces top, left, width, height */
  background: linear-gradient(to top, rgba(15, 23, 42, 0.85) 0%, rgba(15, 23, 42, 0.4) 40%, transparent 70%);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity var(--transition-medium);
  pointer-events: none; /* Allow clicks to pass through */
}
.midi-card:hover .thumbnail-overlay {
  opacity: 1;
}
.play-icon-overlay {
  font-size: 3.5rem;
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 2px 8px rgba(0,0,0,0.5);
  transform: scale(0.8);
  opacity: 0;
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease-out;
  transition-delay: 0.1s;
}
.midi-card:hover .play-icon-overlay {
  transform: scale(1);
  opacity: 1;
}

.midi-card-content {
  padding: var(--spacing-lg);
  flex-grow: 1;
  display: flex;
  flex-direction: column; /* Ensure content can grow */
}

.midi-card-title {
  font-family: var(--font-display);
  font-size: 1.375rem; /* ~22px */
  font-weight: 700;
  color: var(--color-text-light);
  margin-bottom: var(--spacing-xs);
  line-height: 1.3;
  /* For multi-line ellipsis (requires Webkit browsers or JS) */
  display: -webkit-box;
  -webkit-line-clamp: 2; /* Show max 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: calc(1.3em * 2); /* Ensure space for 2 lines to avoid layout shifts */
  transition: color var(--transition-fast);
}
.card-link-wrapper:hover .midi-card-title {
  color: var(--color-primary);
}

.midi-card-artist,
.midi-card-arrangement {
  font-size: 0.9375rem; /* 15px */
  color: var(--color-text-dark);
  margin-bottom: var(--spacing-xs);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.midi-card-artist .icon,
.midi-card-arrangement .icon {
  color: var(--color-text-muted);
  font-size: 0.9em; /* Relative to parent */
  flex-shrink: 0;
}

.midi-card-details {
  font-size: 0.875rem; /* 14px */
  color: var(--color-text-muted);
  display: flex;
  flex-wrap: wrap; /* Allow wrapping */
  gap: var(--spacing-sm) var(--spacing-md); /* Row and column gap */
  margin-top: var(--spacing-sm);
  margin-bottom: auto; /* Push footer down */
  padding-bottom: var(--spacing-sm); /* Space before footer if content is short */
}
.midi-card-details span {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
}
.midi-card-details .icon {
  margin-right: 0.15rem;
  font-size: 0.9em;
}

.midi-card-footer {
  padding: var(--spacing-sm) var(--spacing-lg);
  border-top: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: rgba(15, 23, 42, 0.3); /* Slightly darker footer */
}

.midi-card-stats {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  font-size: 0.8125rem; /* 13px */
  color: var(--color-text-dark);
  align-items: center;
}
.midi-card-stats span {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
}
.midi-card-stats .icon {
  font-size: 0.9rem;
  color: var(--color-text-muted);
}

.midi-card-actions {
  display: flex;
  gap: var(--spacing-sm);
}

.btn-card {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: 0.8125rem; /* 13px */
  border-radius: var(--border-radius-sm);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.3rem;
  font-weight: 600;
  min-width: 36px; /* Ensure icon-only buttons have some width */
  min-height: 36px;
  transition: var(--transition-default), transform 0.1s ease-out;
}
.btn-card:hover {
    transform: scale(1.05);
}
.btn-card:active {
    transform: scale(0.98);
}

.btn-download-card {
  background-color: var(--color-primary);
  color: var(--color-background-dark);
}
.btn-download-card:hover {
  background-color: var(--color-primary-hover);
}

.btn-view-card {
  background-color: transparent;
  color: var(--color-text-medium);
  border: 1px solid var(--color-border);
}
.btn-view-card:hover {
  background-color: var(--color-background-light);
  color: var(--color-text-light);
  border-color: var(--color-border-hover);
}

.midi-card-actions .btn-play-card {
  /* Example: Make it stand out a bit if it's the primary action */
  background-color: var(--color-secondary); /* Or your preferred play color */
  color: var(--color-text-light);
  border: 1px solid var(--color-secondary-hover);
}
.midi-card-actions .btn-play-card:hover:not(:disabled) {
  background-color: var(--color-secondary-hover);
}
.midi-card-actions .btn-play-card:disabled {
    background-color: var(--color-background-light); /* Or a more muted color */
    color: var(--color-text-disabled);
    border-color: var(--color-border);
    opacity: 0.7;
}

.midi-card-error-placeholder {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px; /* Adjust as needed */
    border: 1px dashed var(--color-error);
    color: var(--color-error);
    text-align: center;
    padding: var(--spacing-md);
}

/* Grid styling (already in HomePage.css, ensure consistency) */
/* .midi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--spacing-xl);
} */